"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.random = void 0;
var dictionary_1 = require("./dictionary");
var random = function (maxLength) {
    if (maxLength) {
        if (typeof maxLength !== "number") {
            throw new TypeError("Max length must be of type string.");
        }
        maxLength = Math.floor(maxLength);
        if (maxLength < 3) {
            throw new Error("Maximum length of random word must be atlesat 3.");
        }
    }
    var _word = "";
    var shuffledWordSet = shuffle(Object.values(dictionary_1.dictionary));
    exit_loop: for (var i = 0; i < shuffledWordSet.length; i++) {
        var set = shuffle(shuffledWordSet[i]);
        for (var j = 0; j < set.length; j++) {
            var word = set[j];
            if (word.length >= 3) {
                if (!maxLength || (maxLength && word.length <= maxLength)) {
                    _word = word;
                    break exit_loop;
                }
            }
        }
    }
    return _word;
};
exports.random = random;
function shuffle(array) {
    var _a;
    var currentIndex = array.length;
    var randomIndex;
    // While there remain elements to shuffle.
    while (currentIndex != 0) {
        // Pick a remaining element.
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        // And swap it with the current element.
        _a = [
            array[randomIndex],
            array[currentIndex],
        ], array[currentIndex] = _a[0], array[randomIndex] = _a[1];
    }
    return array;
}
